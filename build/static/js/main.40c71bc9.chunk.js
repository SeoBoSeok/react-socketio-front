(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{48:function(e,t,a){e.exports=a(83)},74:function(e,t){},81:function(e,t,a){},83:function(e,t,a){"use strict";a.r(t);var n,s=a(0),r=a.n(s),c=a(43),o=a.n(c),u=a(8),i=a(9),l=a(12),m=a(10),d=a(13),p=function(e){var t=e.set_user,a=e.status?"none":"block";return r.a.createElement("li",{className:"login page",style:{display:a}},r.a.createElement("div",{className:"form"},r.a.createElement("h3",{className:"title"},"\ub2c9\ub124\uc784\uc744 \uc785\ub825\ud558\uc138\uc694."),r.a.createElement("input",{className:"usernameInput",onKeyPress:t,type:"text",maxLength:"14"})))},h=a(17),O=a(85),b=a(84),g=a(14),_=a(20),E=a.n(_),f=a(21),j=a.n(f);E.a.config();var y=j()(Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_SOCKET_HOST),v={set_login:Object(O.a)("users/SET_LOGIN"),set_user:Object(O.a)("users/SET_USER"),set_userAsync:function(e){return function(t){y.emit("add user",e),t(v.set_user())}}},w=Object(g.b)({status:!1,username:""}),N=Object(b.a)((n={},Object(h.a)(n,"users/SET_USER",function(e,t){return e.set("username",t.payload)}),Object(h.a)(n,"users/SET_LOGIN",function(e){return e.set("status",!0)}),n),w),A={add_chat:Object(O.a)("chat/ADD_CHAT")},T=Object(g.b)({logs:Object(g.a)([])}),k=Object(b.a)(Object(h.a)({},"chat/ADD_CHAT",function(e,t){return e.set("logs",e.get("logs").push(Object(g.b)({type:t.payload.type,username:t.payload.username,data:t.payload.data})))}),T),C=a(11),S=a(1),U=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(l.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).set_user=function(e){var t=a.props,n=t.UserActions,s=t.ChatActions,r=t.socket,c=e.target.value;13===e.which&&c&&(r.emit("add user",c),n.set_user(c),n.set_login(),s.add_chat({type:"log",username:c,data:"\ub2f9\uc2e0\uc758 \ub2c9\ub124\uc784 : ".concat(c)}))},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(p,{set_user:this.set_user,status:this.props.status})}}]),t}(s.Component),D=Object(C.b)(function(e){return{username:e.users.get("username"),status:e.users.get("status")}},function(e){return{UserActions:Object(S.b)(v,e),ChatActions:Object(S.b)(A,e)}})(U),L=function(e){var t=e.username,a=e.message;return r.a.createElement("div",null,r.a.createElement("span",{className:"username"},t),r.a.createElement("span",{className:"messageBody"},a))},I=function(e){var t=e.logs;return r.a.createElement("ul",{className:"messages"},t.map(function(e,t){return r.a.createElement("li",{className:e.type,key:t,style:{display:"list-item"}},"log"===e.type?e.data:r.a.createElement(L,{username:e.username,message:e.data}))}))},P=function(e){var t=e.add_chat;return r.a.createElement("input",{className:"inputMessage",placeholder:"Type here...",onKeyPress:t})},R=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(l.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).add_chat=function(e){var t=a.props,n=t.ChatActions,s=t.socket,r=t.username,c=e.target.value;13===e.which&&c&&(s.emit("new message",c),n.add_chat({type:"message",username:r,data:c}),e.target.value="")},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.ChatActions,a=e.socket;a.on("user joined",function(e){t.add_chat({type:"log",username:"notice",data:"".concat(e.username,"\ub2d8\uc774 \uc811\uc18d\ud558\uc600\uc2b5\ub2c8\ub2e4.")})}),a.on("new message",function(e){t.add_chat({type:"message",username:e.username,data:e.message})}),a.on("login",function(e){t.add_chat({type:"log",username:"notice",data:"\ud604\uc7ac\uc778\uc6d0 ( ".concat(e.numUsers," )")})}),a.on("user left",function(e){t.add_chat({type:"log",username:e.username,data:"".concat(e.username,"\ub2d8\uc774 \uc811\uc18d\uc744 \uc885\ub8cc\ud558\uc600\uc2b5\ub2c8\ub2e4.\n                    \ud604\uc7ac\uc778\uc6d0 ( ").concat(e.numUsers," )")})})}},{key:"render",value:function(){var e=this.props.status?"block":"none";return r.a.createElement("li",{className:"chat page",style:{display:e}},r.a.createElement("div",{className:"chatArea"},r.a.createElement(I,{logs:this.props.logs})),r.a.createElement(P,{add_chat:this.add_chat}))}}]),t}(s.Component),B=Object(C.b)(function(e){return{username:e.users.get("username"),status:e.users.get("status"),logs:e.chat.get("logs").toJS()}},function(e){return{ChatActions:Object(S.b)(A,e)}})(R);E.a.config();var H=j()(Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_SOCKET_HOST),K=function(e){function t(){return Object(u.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("ul",{className:"pages"},r.a.createElement(B,{socket:H}),r.a.createElement(D,{socket:H}))}}]),t}(s.Component),V=Object(S.c)({users:N,chat:k}),X=a(45),x=a(46),J=Object(x.createLogger)();Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(81);var G=Object(S.e)(V,Object(S.d)(Object(S.a)(X.a,J),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()));o.a.render(r.a.createElement(C.a,{store:G},r.a.createElement(K,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[48,2,1]]]);
//# sourceMappingURL=main.40c71bc9.chunk.js.map